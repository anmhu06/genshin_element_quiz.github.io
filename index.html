<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Which Genshin Element Are You?</title>

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f0f3ff;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    padding: 15px;
}

h1, h2 {
    text-align: center;
}

.question {
    margin-bottom: 20px;
}

.options button {
    display: block;
    margin: 8px 0;
    padding: 14px;
    width: 100%;
    font-size: 18px;
    cursor: pointer;
}

#result {
    text-align: center;
    font-size: 18px;
    margin-top: 20px;
    padding: 20px;
    border-radius: 10px;
    color: black;
}

.section-title {
    margin-top: 10px;
}

.divider {
    border: none;
    border-top: 2px solid rgba(0,0,0,0.2);
    margin: 15px 0;
}

#restart {
    margin-top: 20px;
    padding: 12px;
    font-size: 16px;
    cursor: pointer;
}

.element-pic {
    width: 120px;
    margin: 10px auto;
    display: block;
}
</style>

</head>

<body>

<div class="container">
    <h1>Which Genshin Impact Element Are You?</h1>
    <div id="quiz"></div>
    <div id="result"></div>
</div>

<script>

// Image paths using folder method
const elementImages = {
    Pyro: "genshin_quiz_images/Pyro.png",
    Hydro: "genshin_quiz_images/Hydro.png",
    Cryo: "genshin_quiz_images/Cryo.png",
    Anemo: "genshin_quiz_images/Anemo.png",
    Geo: "genshin_quiz_images/Geo.png",
    Electro: "genshin_quiz_images/Electro.png",
    Dendro: "genshin_quiz_images/Dendro.png"
};

// Pastel background tints
const elementColors = {
    Pyro: "rgba(255, 150, 150, 0.9)",
    Hydro: "rgba(140, 190, 255, 0.9)",
    Cryo: "rgba(190, 230, 255, 0.9)",
    Anemo: "rgba(160, 230, 210, 0.9)",
    Geo: "rgba(255, 235, 150, 0.9)",
    Electro: "rgba(200, 160, 255, 0.9)",
    Dendro: "rgba(170, 230, 160, 0.9)"
};

// Solid colors for element text
const solidColors = {
    Pyro: "#e63939",
    Hydro: "#1e90ff",
    Cryo: "#5fcfff",
    Anemo: "#2ed8b6",
    Geo: "#e6c200",
    Electro: "#9b59ff",
    Dendro: "#2e8b2e"
};

// Make darker version of pastel color for headings
function darkenColor(rgba) {
    let nums = rgba.match(/\d+/g);
    let r = Math.max(0, nums[0] - 80);
    let g = Math.max(0, nums[1] - 80);
    let b = Math.max(0, nums[2] - 80);
    return `rgb(${r}, ${g}, ${b})`;
}

// ----- QUESTIONS (your existing questions unchanged) -----
const questions = [
    {
        text: "Pick a fruit:",
        answers: [
            { text: "Strawberries", element: ["Pyro", "Dendro"] },
            { text: "Lemon", element: ["Geo"] },
            { text: "Apples", element: ["Anemo"] },
            { text: "Blueberry", element: ["Electro", "Hydro"] },
            { text: "Oranges", element: ["Dendro"] },
            { text: "Peaches", element: ["Cryo", "Pyro"] },
            { text: "Mango", element: ["Hydro", "Geo"] }
        ]
    },

    {
        text: "Choose a personality trait:",
        answers: [
            { text: "Bold and passionate", element: ["Pyro"] },
            { text: "Calm and adaptable", element: ["Hydro"] },
            { text: "Free-spirited", element: ["Anemo"] },
            { text: "Analytical", element: ["Electro"] },
            { text: "Reliable and grounded", element: ["Geo"] },
            { text: "Kind and nurturing", element: ["Dendro"] },
            { text: "Quiet and reserved", element: ["Cryo"] }
        ]
    },
    {
        text: "Choose a dessert:",
        answers: [
            { text: "Chocolate cake", element: ["Pyro"] },
            { text: "Ice cream", element: ["Cryo"] },
            { text: "Fruit tart", element: ["Dendro"] },
            { text: "Waffles", element: ["Anemo"] },
            { text: "Cheesecake", element: ["Geo"] },
            { text: "Tiramisu", element: ["Hydro"] },
            { text: "Carrot cake", element: ["Electro"] }
        ]
    },
    {
        text: "Favorite elemental reaction?",
        answers: [
            { text: "Overload", element: ["Pyro", "Electro"] },
            { text: "Freeze", element: ["Cryo", "Hydro"] },
            { text: "Bloom", element: ["Dendro"] },
            { text: "Swirl", element: ["Anemo"] },
            { text: "Crystallize", element: ["Geo"] },
            { text: "Electro-Charged", element: ["Electro"] },
            { text: "Vaporize", element: ["Hydro"] }
        ]
    },
    {
        text: "Favorite boba flavor?",
        answers: [
            { text: "Classic milk tea", element: ["Geo"] },
            { text: "Taro", element: ["Electro"] },
            { text: "Matcha", element: ["Dendro"] },
            { text: "Strawberry milk/slush", element: ["Pyro"] },
            { text: "Mango slush", element: ["Anemo"] },
            { text: "Lychee tea", element: ["Hydro"] },
            { text: "Thai Tea", element: ["Cryo"] }
        ]
    },
    {
        text: "Choose a real-life place:",
        answers: [
            { text: "Volcano", element: ["Pyro"] },
            { text: "Rainforest/National Park", element: ["Dendro"] },
            { text: "Beach", element: ["Hydro"] },
            { text: "Snowy mountains", element: ["Cryo"] },
            { text: "Open plains", element: ["Anemo"] },
            { text: "Caves", element: ["Geo"] },
            { text: "City at night", element: ["Electro"] }
        ]
    },
    {
        text: "Pick a meal:",
        answers: [
            { text: "Pho", element: ["Hydro"] },
            { text: "Ramen", element: ["Pyro"] },
            { text: "Udon", element: ["Geo"] },
            { text: "Sushi", element: ["Cryo"] },
            { text: "Korean BBQ", element: ["Electro"] },
            { text: "Chinese food", element: ["Dendro"] },
            { text: "American Breakfast", element: ["Anemo"]}
        ]
    },
    {
        text: "Preferred combat type?",
        answers: [
            { text: "All-out offense", element: ["Pyro"] },
            { text: "Support and healing", element: ["Hydro"] },
            { text: "Fast and evasive", element: ["Anemo"] },
            { text: "Strategic control", element: ["Electro" ]},
            { text: "Defense and shields", element: ["Geo" ]},
            { text: "Steady and calculated", element: ["Cryo"] },
            { text: "Tactical setups", element: ["Dendro"] }
        ]
    },
    {
        text: "Pick a word that resonates with you:",
        answers: [
            { text: "Passion", element: ["Pyro"] },
            { text: "Freedom", element: ["Anemo"] },
            { text: "Growth", element: ["Dendro"] },
            { text: "Calm", element: ["Hydro" ]},
            { text: "Power", element: ["Electro"] },
            { text: "Stability", element: ["Geo" ]},
            { text: "Stillness", element: ["Cryo"] }
        ]
    }
];

let currentQuestion = 0;

let scores = {
    Pyro: 0,
    Hydro: 0,
    Anemo: 0,
    Electro: 0,
    Geo: 0,
    Cryo: 0,
    Dendro: 0
};

let userChoices = [];

function loadQuestion() {
    const quizDiv = document.getElementById("quiz");
    const resultDiv = document.getElementById("result");

    quizDiv.innerHTML = "";
    resultDiv.innerHTML = "";

    if (currentQuestion >= questions.length) {
        showResult();
        return;
    }

    const q = questions[currentQuestion];

    const qDiv = document.createElement("div");
    qDiv.className = "question";

    const title = document.createElement("h2");
    title.textContent = q.text;
    qDiv.appendChild(title);

    const optionsDiv = document.createElement("div");
    optionsDiv.className = "options";

    q.answers.forEach(answer => {
        const btn = document.createElement("button");
        btn.textContent = answer.text;

        btn.onclick = () => {
            // Add points for every element listed
            answer.elements.forEach(el => {
                scores[el]++;
            });
        
            userChoices.push({
                question: q.text,
                choice: answer.text,
                element: answer.elements.join(", ")
            });
        
            currentQuestion++;
            loadQuestion();
        };


        optionsDiv.appendChild(btn);
    });

    qDiv.appendChild(optionsDiv);
    quizDiv.appendChild(qDiv);
}

function showResult() {
    const resultDiv = document.getElementById("result");

    const topElement = Object.keys(scores).reduce((a, b) =>
        scores[a] > scores[b] ? a : b
    );

    resultDiv.style.backgroundColor = elementColors[topElement];

    let headingColor = darkenColor(elementColors[topElement]);

    resultDiv.innerHTML = `
        <img class="element-pic" src="${elementImages[topElement]}" alt="${topElement}">

        <h2 style="color:${headingColor}">
            You are aligned with the ${topElement} element!
        </h2>

        <hr class="divider">

        <h3 class="section-title" style="color:${headingColor}">Your Choices:</h3>

        ${userChoices.map(c =>
            `<p><strong>${c.question}</strong> â†’ ${c.choice} (${c.element})</p>`
        ).join("")}

        <hr class="divider">

        <h3 class="section-title" style="color:${headingColor}">Element Breakdown:</h3>

        ${Object.entries(scores).map(([el, sc]) =>
            `<p style="color:${solidColors[el]}">${el}: ${sc}</p>`
        ).join("")}

        <button id="restart" onclick="restartQuiz()">Restart Quiz</button>
    `;
}

function restartQuiz() {
    currentQuestion = 0;

    scores = {
        Pyro: 0,
        Hydro: 0,
        Anemo: 0,
        Electro: 0,
        Geo: 0,
        Cryo: 0,
        Dendro: 0
    };

    userChoices = [];
    loadQuestion();
}

loadQuestion();

</script>

</body>
</html>


